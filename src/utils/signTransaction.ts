import { IBTCProvider } from '../types';

async function signTransaction(provider: IBTCProvider): Promise<string> {
  try {
    const psbtHex =
      '70736274ff0100fd88010200000004cd432fc35c2bcf6b8d22ac41dacf28d4432079b9f20774c56995bedd3ed8ec870800000000ffffffff4a61453d48b0a21d1f2e4abe14cd3b5cd41c51bcfe83bf8c804a0fdc9735926c0500000000ffffffff263c5feffd9421ea1da2cd77d87ea72f62551fb9b9fd709d44476f1c57a6e2000000000000ffffffff4a61453d48b0a21d1f2e4abe14cd3b5cd41c51bcfe83bf8c804a0fdc9735926c0600000000ffffffff07b004000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a1027000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a250500000000000017a914a67da3384ea9ba1fb73f4e91b0ddc8b01cdb727d874402000000000000160014c015c65276d5f38d599d445c4cb03aa7aa0dc3655802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a5802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a3a97070000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a00000000000100fdf601020000000001010fce6ba48c666295ee3c01c08d2de02f320d56aca84be717a20099e5a718b9a07100000000ffffffff0b5802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a5802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a5802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a5802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a5802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a5802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a5802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a5802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a5802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a5802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8ab4f7080000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a02483045022100d61e1586445ee0ef1bbd4612c584df45922f103448faadd3f8c8ae531c6a983802203dead6941431f58930023c50853707458b7912f21c46c636781c2d3e7a200583012102391b17bb461ee0d5235b5796afd242daccaba63aa2913e92e7ac8678174a87090000000001011f5802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a000100fd0f0302000000000104cd432fc35c2bcf6b8d22ac41dacf28d4432079b9f20774c56995bedd3ed8ec870900000000ffffffffcd432fc35c2bcf6b8d22ac41dacf28d4432079b9f20774c56995bedd3ed8ec870500000000ffffffffcf503f669e83060198058376a0374be4fe650af8a7a4865cca839d898bed99000000000000ffffffff631d3dc4400bdfc976a4bfa2f2f8d17381cd39cd49c518cefff3c9791342fee70100000000ffffffff07b004000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a1027000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a623e00000000000017a9146b3f06ab846c005f0fb446ef57057fa3eaf83921874402000000000000160014c015c65276d5f38d599d445c4cb03aa7aa0dc3655802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a5802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a31de070000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a0247304402200ac4738a40f4db57c71512d6c98626b649183d5373356483137b1a61a3cf9d27022003c52b6fda65b31d650941f7020efc92343b2c2cb0a530998182c1430402b48c012102391b17bb461ee0d5235b5796afd242daccaba63aa2913e92e7ac8678174a87090247304402200b592847324650e54050a6329ee207fc1f12e0309874a9e20ae4d3f37c1cfbdf022073b00bb37f5927563078d40b4379bf862486d967ba7e73879e7715a30ad8754a012102391b17bb461ee0d5235b5796afd242daccaba63aa2913e92e7ac8678174a87090141ec516848efcb4432d8b35d11f5f926817e2e3e1dc5ef6b10ac49f89e5715188c5c672d3ca9e87320884e111c5af15457fde7f8ddb1d97996515c68696e0b50db8302483045022100939a67372cedb5a8017deeb25349b17eee1c3af3b8a4849024ef54b6fca77b9302200be5aec9c9c2868e35ab35fa2a8f0792fdc1ed7031e9c69c3c8e50f216ff568b012102391b17bb461ee0d5235b5796afd242daccaba63aa2913e92e7ac8678174a87090000000001011f5802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a000100fd38010200000000010204d010c64f8ebb59aecb1d0559909e9433c486aa193917ed56ca062053098dce0000000000ffffffff1868169897e79533bb0521dc1c8c94aa5e05184b52c59b81e4647fc8a07137ea0100000000ffffffff024b01000000000000225120af6f9b4c0d70cf9c40dbd2cd8b6a36046eaec8bb18a6b0ce93ade1f5cb20d036027800000000000022512044859fd5f6e15d2d552fd2d5274a9ede6d3b0a92e3a70f3b347278d429290d4e01408f0ccf0ffe88b662f2a7d1d67dd9d63339e6e26bbeca8a49e66057016146a0d025e771e5966fc0c450859a49e479395a9eace6dc868fb7c8d5fe8f2373243f960140b0f959f83a8c155a51fa2b15e165e77f3e839beae904157fc3d12ba5452c531f62c9fea725c1f6e44eda7e2e9decf4bdb5528d1c9a6f55c1123d43070cc1632c0000000001012b4b01000000000000225120af6f9b4c0d70cf9c40dbd2cd8b6a36046eaec8bb18a6b0ce93ade1f5cb20d036011720c4b17af6d4a109c58ef5059640e4fb8570240999d22b862d949acce35c0b1ed7000100fd0f0302000000000104cd432fc35c2bcf6b8d22ac41dacf28d4432079b9f20774c56995bedd3ed8ec870900000000ffffffffcd432fc35c2bcf6b8d22ac41dacf28d4432079b9f20774c56995bedd3ed8ec870500000000ffffffffcf503f669e83060198058376a0374be4fe650af8a7a4865cca839d898bed99000000000000ffffffff631d3dc4400bdfc976a4bfa2f2f8d17381cd39cd49c518cefff3c9791342fee70100000000ffffffff07b004000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a1027000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a623e00000000000017a9146b3f06ab846c005f0fb446ef57057fa3eaf83921874402000000000000160014c015c65276d5f38d599d445c4cb03aa7aa0dc3655802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a5802000000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a31de070000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a0247304402200ac4738a40f4db57c71512d6c98626b649183d5373356483137b1a61a3cf9d27022003c52b6fda65b31d650941f7020efc92343b2c2cb0a530998182c1430402b48c012102391b17bb461ee0d5235b5796afd242daccaba63aa2913e92e7ac8678174a87090247304402200b592847324650e54050a6329ee207fc1f12e0309874a9e20ae4d3f37c1cfbdf022073b00bb37f5927563078d40b4379bf862486d967ba7e73879e7715a30ad8754a012102391b17bb461ee0d5235b5796afd242daccaba63aa2913e92e7ac8678174a87090141ec516848efcb4432d8b35d11f5f926817e2e3e1dc5ef6b10ac49f89e5715188c5c672d3ca9e87320884e111c5af15457fde7f8ddb1d97996515c68696e0b50db8302483045022100939a67372cedb5a8017deeb25349b17eee1c3af3b8a4849024ef54b6fca77b9302200be5aec9c9c2868e35ab35fa2a8f0792fdc1ed7031e9c69c3c8e50f216ff568b012102391b17bb461ee0d5235b5796afd242daccaba63aa2913e92e7ac8678174a87090000000001011f31de070000000000160014157fa473aa05081a91dc4537bf8ee5be1a26ae8a0000000000000000';
    return provider.signPSBT(psbtHex, { autoFinalize: true });
  } catch (error) {
    console.warn(error);
    throw new Error(error.message);
  }
}

export default signTransaction;
